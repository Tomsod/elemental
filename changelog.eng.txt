This is the change log for the Elemental Mod.  It's quite descriptive,
and can be viewed as the chief source of information on the mod's features.

== Elemental Mod ver. 3.0 beta ==

This release chiefly concerns party composition.  Characters are now defined by
more than just class, with race and light/dark path choice being more
significant, skill advancement is (mostly) more lenient, skill effects are
rebalanced, and hybrid classes are hopefully more viable now.  Also, I added a
bunch of new artifacts and some other items, tweaked spells some more, made a
number of other changes to game mechanics, and fixed some more bugs.

Currently we're still in the playtesting phase.  New bugs may be uncovered,
and, more importantly, I will likely tweak some numerical constants for the
sake of balance.  But adding or removing major features is unlikely.


=== Race and class changes ===

This is the first core part of the release.  While before you could have nine
different kinds of characters, as only the class mattered, now each of four
races brings significant changes, and a choice of light or dark promotion also
impacts the PC's abilities, for a total of 72 possible combinations.

First off, race now has a more lasting impact on primary stats: instead of
doubling or halving them at the start only, they're now increased by 40% or
decreased by 30% respectively throughout the game, like a status condition.
To make humans less dull, they now have a similar 20% bonus to Luck.

Race now also affects HP and SP, like in earlier MM games: dwarves get +1 HP
per level, goblins get +1 HP/level but -1 SP per two levels, elves get -1 HP
but +1 SP each level, and humans instead get an extra skill point per level.

Next, each race gets a boost to a single skill, generally being able to
advance it one rank higher than usual.  This works even if the base class
cannot learn the skill at all.  Goblins have Sword, dwarves have Axe, elves
have Bow, and humans get Learning.  For the first three, the boosted skill
usually replaces the weapon skill a class starts with; humans instead get
their Learning as a fifth bonus starting skill, which fits the scholar theme.

Finally, the racial bonus to resistances now increases with character level.
Humans are again special, as they now get a bonus to Holy resistance in
addition to Magic, although it's only relevant to liches and zombies.

Classes are now more varied, too.  Basically, I tried to make skill ranks more
permissive, especially magic grandmasteries -- hopefully clerics and sorcerers
are less indispensable now.  Hybrid classes like thieves, rangers and monks
should be more useful now, too.  Some classes even got special abilities.
Later I'll make a comprehensive party creation spoiler, but for now you can
read the class hints (right click on the class title in the stats screen),
and there's a skill advancement table in Data/Tables.

Importantly, all classes have skills that can be advanced upon a light or dark
promotion only.  What really makes this flexible is the fact that you can now
mix light and dark promotions within the same party!  Basically, if you
complete all elf/human war quests on time, you'll get a short window of
opportunity where you can initiate both light and dark promotion quests at
your discretion.  That said, you'll now have to earn the ability to get a
promotion quest by completing other quests; before having to choose a side
formally, you can complete a total of two light and two dark quests, and
afterwards you're limited to the path you've chosen only.  Nevertheless, this
is enough to have any combination of promotions in your party, which allows to
"plug holes" WRT skill ranks -- e.g. only light path Archers can GM Water, and
only dark path Thieves can GM Alchemy.  It's better to plan this in advance.


=== Skill tweaks ===

As part of the class rebalance, some skill effects were changed, either to
make skills more useful, or to make a class more unique.  Here's a list:

Bodybuilding and Meditation are now more relevant on higher levels, as their
effect grows by 5% for each level after 20.  This means that each point of the
skill (multiplied by rank) adds 5% to base level-dependent HP or SP (past
level 20, that is).  Also, the effect of Endurance, Intellect and Personality
now works the same way.  To counterbalance it a bit, GM at the both skills no
longer increases their effect to 5x; instead, it adds HP or SP regeneration,
at one point per 5 minutes per 5 or 6 points of skill, respectively.

Perception is now more useful, as it increases loot from monsters: both the
amount of gold and the chance of an item are increased by 2% per point of
skill (multiplied by rank).  To keep it interesting, dragons and other
monsters with formerly a 100% chance of an item are now capped at 80%, so the
skill is still useful.  Also, GM now grants a 5x skill effect, as a
"100% chance" wouldn't make sense with this new loot increase.  Finally,
bonuses to Perception from hired NPCs are now properly multiplied by rank.

Stealing is renamed to Thievery, and it now also allows performing backstabs.
It works similar to Backstabbing weapons from 2.0: only in melee and only when
the monster is turned away from party.  But unlike the weapon bonus, a
successful skill-based backstab doubles the entire damage of the attack,
including skill, spell, and stat bonuses (but not the elemental damage).  The
chance to backstab is 1% per skill, multiplied by rank.

Alchemy is now a bit more lenient, in that it's technically possible to brew
any potion at any skill level (or even without the skill).  However, there's a
chance of an explosion (based on the potion tier), and even if it succeeds,
the potion is marked as "botched", which decreases its power by 25% and makes
catalysts mixed with it 25% less effective.  So, the skill is still helpful.

Blaster skill is now limited by class.  But those classes who can achieve GM
can enjoy a new perk: a small chance to eradicate the target on hit.
Eradicated monsters disappear without leaving a corpse, though, and it doesn't
happen often: the base chance is 0.5% per skill point, monsters can resist vs.
Magic, and it can also fail with a (monster HP) / (monster max HP) chance.

ID Item and Repair are now more useful, as I've raised the ID/repair
difficulty of many items, and item enchantments further increase it now.  So,
raising them to GM is actually beneficial now.  Also, unidentified items are
considered unenchanted when determining the selling price to shops, and it's
no longer possible to read unknown scrolls and spellbooks -- as such, ID Item
now brings an actual in-game (rather than meta-game) benefit.  And to make
Repair more relevant, items are now rarely generated broken (except in shops).

I also tweaked some armor skills.  Master Shield now grants a skill-based
chance to cover an ally in combat instead of a modest AC bonus.  What this
means: if any PC is attacked, with a (skill * 1%) chance the AC of the
shield-wearer is used instead of the hit PC's AC (unless it's lower).  If the
AC roll then fails, the original PC is hit as normal.

GM Shield now lowers all physical damage by 25% instead of the old half
missile damage bonus.  The old bonus wasn't actually all that bad, as unlike
the common opinion, it did stack with the Shield spell, and also affected the
elemental projectiles, but it was still inferior to an off-hand sword.  The
new bonus can stack with Master Plate for a total of 75% reduction, making a
Knight or a Paladin a very good tank (see notes on the aggro system below).

Master Leather is now limited to magical classes, as its new ability is
hostile spell absorption: any time the wearer is hit by a spell (including
friendly fire), there's a (skill * 1%) chance of negating its effects (on this
PC) and adding its cost to the PC's SP pool instead.  Importantly, it will
fail if there's not enough "empty space" for the absorbed SP, which is why
Knights can no longer learn this.  Light Bolt is the only spell that cannot be
absorbed, and magical projectiles that aren't spells also don't count.

I've also shuffled the GM effects of a few skills: the GM effect of Leather is
replaced by the GM effect of Dodging (dodging in leather armor), the GM effect
of Dodging is replaced by the Unarmed effect (the ability to dodge any hit) --
and by the way, I've fixed it so that ANY hit can be dodged, melee or ranged,
not just arrows (which might've been a vanilla bug); spells can't be dodged,
though, -- and the new GM effect of Unarmed is "death touch": 0.5% * skill
chance to instakill a monster on hit.  Like blaster eradication, this can fail
either because of monster's Physical resistance, or with a HP-based chance.
Also, undead, golems and other non-living monsters are immune to this effect.

Next, ID Monster is improved.  One, the game now remembers whether a monster
was identified (and at which rank), like with items, and subsequently shows
its stats to any PC.  Two, identifying a monster also works like a minor
debuff: at Normal, party has +5 to armor penetration agains the monster.  At
Expert, the monster also gets negative 5 armor penetration vs. the party.  At
Master, the monster also deals 10% less damage to the party (except with
Energy attacks).  And at GM, party also gets +5 resistance penetration vs. it.

Magic skills are not changed in behavoir, but you now need skill level 8 to
train to Master and 12, to GM, unlike 7 and 10 resp. for all other skills.

I've also buffed Axes a bit by doubling the skill's Expert recovery bonus.

Master Dagger bonus is changed, it now adds skill to critical hit chance
(normally equal to Luck bonus, see below).  Essentially it's a damage
multiplier, so wielding a good weapon together with an offhand dagger is a bit
more advantageous if you have Master.  Archers in particular can do it now.
Wielding two daggers doubles the bonus, and throwing knives are also affected.

Finally, the AC bonuses of Staff, Sword, and Spear skill are boosted a little
by adding the weapon's quality (i.e. its to-hit, usually) to the skill.


=== Artifacts and other items ===

Another large part of the release is artifact-related.  I've added 15 brand
new artifacts and relics, 16 if you include a former specitem that basically
only retained its appearance.  The total number of obtainable artifacts have
also been increased to 20, but I've removed the ability to get an artifact
beyond this limit from some chests (Clanker's, Hive, and there's a couple of
new ones); rather, all such artifacts count towards the limit, and you cannot
get a second one after respawn.  I don't want to describe the artifacts here,
as it would spoil the fun, but if you're curious about what I've added, visit
https://github.com/Tomsod/elemental/blob/master/artifacts.eng.txt

Some vanilla artifacts have also been tweaked: Titan's Belt now directly
increases melee damage and lowers recovery instead of the stat bonuses that
often amounted to little.  Ethric's Staff is now Soul Stealing, and it also
reanimates monsters slain in melee as loyal zombies.  But, it drains HP at a
fivefold rate.  The drain turns off when you're in a safe location, though.

Clanker's Amulet now only gives +10 to Alchemy, but this bonus stacks with
another Alchemy item.  It also empowers Enchant Item, same (and non-stackable
with) as casting at noon.  Finally, Shadow's Mask skill bonus also stacks.

The relics that are Good or Evil only can be used by Light- and Dark-promoted
PCs repectively, even if the rest of the party has chosed the other path.

I've also added unique sprites from MM6 and MM8 to many specitems.

Next, I added some new regular items.  The graphics for these (as well as for
some new artifacts) were drawn by Arakazam, who's pretty cool.

The first new item class is robes.  These are equipped in the body armor slot,
but provide minimal protection.  However, they allow using the Dodging skill,
and can occasionally be enchanted with magic boosters and other nice bonuses.
They also don't impact recovery and don't require any skill to use.  There are
three regular kinds of robes, plus one artifact and one specitem.

The other item class is throwing knives.  They're a missile weapon that uses
the Dagger skill.  Early on they're inferior to bows, as they fly in an arc,
deal less damage and can run out of charges, but Sorcerers and Druids have
few other options as they can't use bows now (unless they're elves).
Later, knives can shine as they get bonus damage and range from Might, and
their recovery is very low compared to bows.  Also, the top-tier knives have
unlimited charges.  There are three kinds of ordinary knives and one specitem.

There are some changes to vanilla items, too.  Notably, crowns and staves now
have separate enchantment pools, and can be generated with the magic boosting
bonuses.  Also, these two plus robes have a lower chance to start unenchanted.

Next, to make the above items relevant in the early-midgame, I've added lesser
magic-school-improving bonuses, that only give +2 to a single school (plus a
resistance bonus), but can appear much earlier.  Naturally, they don't stack
with the better "of X magic" ones nor with each other.

Other enchantments I've added: "Elemental Slaying" weapons, like in MM8.
"Blessed" weapons, which have +10 to-hit and protect against curses.
"Terrifying" helmets, which cause fear on a melee attack.  Armor "of
Taunting", which increases aggro (aggro will be explained later).  And weapons
"of the Jester", which also increase aggro and deal some extra Mind damage.

Mekorig's Hammer is now Elemental Slaying.  The Perfect Bow is either Blessed
or Cursed, depending on the path.  And Amuck is Terrifying.

Blasters can now be sold, and no NPC besides the Celeste and Pit weaponsmiths
can ID or repair it (including hirelings).  PCs also need high skill to do it.

And another change: items that increase HP, SP, Thievery and Disarm skills are
now halved in effect, like the vanilla Armsmaster etc. bonuses.  However, at
least the Disarm bonus is now multiplied by rank, which compensates for it.


=== More spell changes ===

This release also includes a number of spell tweaks that didn't fit into 2.0.

Charm and Enslave now "formally" make the affected monster peaceful, i.e. it
shows green on the minimap, you can rest next to it, and if it's a peasant,
you can talk to and hire it.  Vanilla explicitly disabled that, not sure why.

Reanimation now makes the resulting zombies enslaved, so they don't turn
hostile when damaged and remain peaceful as above.  But, their max HP is
lowered to the HP you reanimate them with, so they cannot be healed later.
Also, killing zombies no longer gives XP, but you do get the loot, expect for
a possible extra reagent (like troll blood), which never appears now.

Recharge Item (and wand recharging in general) now only affects the portion of
the wand's charge that was already spent, i.e. if you have a 50% spent wand
and you recharge it to 50% charges, it will only lose 25% of its max charges.

I've also added another new spell: Aura of Conflict, which replaced Telepathy.
It compels monsters to attack the enchanted PC in preference to the rest of
the party, so it's good for tanks, who can actually make use of high AC, HP,
and armor skill perks now.  In more technical terms, this spell adds +1-4 to
the PC's aggro counter, which is normally 1, but can be higher if the monster
prefers the PC's class, race, or gender.  Some items (enchanted with "of the
Jester", "of Taunting", and Gibbet) also add +1 each.  And when the monster
attacks, the odds of attacking a specific PC are proportional to her aggro.
Also, Shadow's Mask removes these race-class-gender aggro bonuses when worn.

The old Telepathy spell is still available on scrolls, like Fate.  And by the
way, the latter turned out to be non-functional when cast on a PC, so it's now
only castable on monsters (which freed the space for the above Aura buff).

Enchant Item is buffed again, as it never fails now, and higher skill value
lowers the minimum enchantable item price slightly.

GM Fire Aura is nerfed: the resulting permanent enchantment no longer adds
2000 gold to the weapon's price; instead, it merely doubles.

Immolation now lasts slightly longer (5 and 15 min/skill on Master and GM).

Invisibility now lasts shorter (same values as above), and opening a chest
immediately dispels it.  You can still pickup items from the floor.

Sparks and Poison Spray are now much, much more expensive on higher ranks.
Their damage is still obscene, but at least the SP cost matches it now.

Souldrinker now restores HP equal to the amount actually drained, instead of a
fixed per-monster value (which didn't even check immunities).

Paralyze effect is nerfed, as it now has a 20% chance to wear off each time
the affected monster is damaged.  Thus, it's not an instakill spell now.

Hammerhands now works together with GM Staff.

Town Portal is severely nerfed, as it now only teleports to the last visited
town on Master, and only at GM you can choose.  Also, the success chance is
lowered to 5% * skill both at M and GM, but with no monsters nearby it's 100%.

Lloyd Beacon is also nerfed, as a character can only recall one beacon per day
per 3 points of skill.  Setting new beacons is not restricted, though.

GM Water Walk now allows safely walking on lava (but it drains SP now).

Master Meteor Shower only summons 10 meteors now.

Stun is massively improved: in addition to fixing some related bugs, it now
inflicts quadruple knockback and quintuple recovery penalty (but, if the
monster already recovers, it's reduced to prevent stunlock).  Also, Earth rank
now decreases (the caster's) recovery from the spell.

Armageddon is nerfed again: it only deals full damage to the nearby monsters
("yellow gem" distance), and further away it's linearly reduced.  However, it
can now be cast more times per day, and the reputation penalty is lowered.

Incinerate (including when cast by monsters) now has a small instakill chance.

Flight is nerfed: it can no longer be initiated above the usual max altitude,
and in turn-based mode it's restricted much like in Merge.

Finally, I've added the ability to auto-cast some normally single-player buffs
like Regeneration and Fire Aura on all PCs at once by Ctrl-clicking the spell
icon.  It only works with no monsters nearby, and SP cost and recovery are
multiplied appropriately.  This doesn't work on every buff.  Weapon
enchantments are applied to every wielded melee weapon, or to every wielded
missile weapon if no melee weapons can be enchanted (or if all already are).
Also, Ctrl-clicking Immolation and GM Wizard Eye icons now turns them off.


=== Other gameplay changes ===

There's a bunch of other assorted mechanical changes and new features in 3.0.

First of all, I've added a difficulty level switch!  It's accessible throuh
the Controls menu and can be changed anytime except in combat.  You're advised
to play with the setting and find what you're most comfortable with, as the
vanilla game gets boring once you know how to play it well.  The default level
is "easy", and it has no special effects.  On the "medium" level:
* monsters have a 25% lower recovery (pause between actions);
* monsters receive 25% less damage from any source;
* monsters have a 25% chance to resist instant death effects;
* the party gets 25% MORE experience for defeating monsters;
* the party gets 25% less gold from almost any source (including sell prices);
* and most PC skills are reduced by 25% (rounded down) of their base value.
On the "hard" level, all those changes are increased to 50%.  Note that the
lowered recovery doesn't always work in real-time mode, as monsters still need
to complete their attack animation before they can attack again.

Next, I've slightly changed the main questline.  As noted above, it's now
possible to complete light and dark promotions in the same game (although you
can't get both for the same class).  It's also possible to join both light and
dark guilds.  Alternatively, you can refuse this opportunity and gain another
small bonus later.  Also, you no longer need to wait four months after the
castle repair for the judge to die: as long as you complete all the related
quests, you'll need to wait a few days at most.  But if you do procrastinate,
there will be the wait, and there won't be the light-dark thing as above.

And because you no longer need to kill time, level training now only takes 8
days no matter the number of levels, like in MM6.  However, training several
levels at once is progressively more expensive.  Also, after getting each 10th
level, the PC can visit the permanent "+2 to stat" wells once more, FWIW.

I've also gave all GM teachers varied demands besides just skill and gold.
Some even give you mini-quests before they can teach you!

Some primary stats now have new effects.  Intellect increases wand damage,
and Personality improves trading prices; below 30 or so they will actually
penalize those two compared to vanilla.  And Luck now gives a chance to deal a
double-damage "critical hit" on a weapon attack.  This does not stack with a
backstab, and you still need to make a to-hit roll as normal.  Low Luck can
cause you to miss instead.  Also, its effect on resistances is now quadrupled.

Some hirelings have been redone.  Porters, quartermasters, and gypsies now
work as "portable chests", carrying some of your loot or other items.  Like
with most hirelings, two identical professions don't stack here.

Cooks and chefs now give you a moderate stat boost after resting in the field
(like in MMX!)  You can also get a similar boost by resing in a tavern.

There are two more black potions.  One, "Divine Mastery", increases the PC's
level by 1% per point of power until next rest.  This not only increases HP
and SP pools, but can also grant a small (also percentile) bonus to skill
values.  You can also get a similar effect from resting, as noted above.

The other black potion can raise dead (but not eradicated) PCs, and it
restores a little HP, too.  It actually replaces the Stone to Flesh potion,
which is now white, replacing Cure Paralysis, which is now an alternative
effect of Recharge potion.  I've pilfered the idea from BTB's mod, actually.

Also, I've swapped green and blue potions and reduced the 10 SP bonus to 5.

Next, spells cast from weapon hits (e.g. Cursed bonus or mace stun) now use
the weapon's skill to determine resistance penetration and other such effects.

Racial artifacts are no longer awarded for the Arcomage quest, but are instead
spread around as quest rewards, stealable treasure, or both.  Also, I've
reintroduced Elfbane, so there are now two goblin artifacts in the game.

Necromancers can now curse on hit, and Droids are vulnerable to lightning.

Medusae are now VERY resistant to Physical-elemental spells (not weapons).

Temple healing price is slightly increased with PC level now.

Arena victories now reward five times as much money.

You can now collect taxes at Harmondale town hall!  Their amount depends on
your fame gained since last visit, and also on Harmondale reputation.  If you
arrange Harmondale to become an independent kingdom, taxes will double.

A visual convenience feature: when a buff has less than 10 minutes left, the
buff icon will blink.  It doesn't work for buffs with huge icons like Water
Walk, and it's a bit glitchy in the widescreen mode, but it still works there.

Another interface thing: when browsing spellbooks in a guild, it's noted in
the upper left corner of spell description if the current PC can learn it.

In PC skill descriptions, available skill ranks use more descriptive colors:
white = can learn w/o further promotions, yellow = can learn after the first
promotion, green = after either second promotion, blue = light promotion only,
purple = dark promotion only, red = can never learn this rank.

Water Walk and Fly cast from scrolls no longer drain SP.

Vampiric weapons can no longer drain more HP than the late monster had left.

Berserked monsters (except peasants) no longer run away because of low HP.

I've added swords in stone (like in MM6) to a few outdoor locations.

Liches no longer suffer penalties from old age.

Finally, I've completely removed multiloot.  No more 10 relics from Wromthrax!


=== Bug fixes ===

Fuq da police, I ain't doing this right now!  Later I'll compile the long,
long list of fixed bugs, but it can wait until the proper release.

-------------------------------------------------------------------------------

== Elemental Mod ver. 2.1 ==

This release was mostly prompted by my comissioning new graphics for
dragonscale items and the new spell.  While I waited on it, I also wrote
a few tweaks and bugfixes.  The full list of changes is below:

* The Morcarack's scales and the plate armor and shield made from them
  now have unique graphics.  The Spectral Weapon also gets a decent icon.
* Primary stat thresholds have been rebalanced.  Expect to have 4-6 extra
  stat rating points in the midgame.
* Undead Slaying has been nerfed, and now only increases damage by +50%.
* Elemental damage potions now grant better enchantments to weapons.
* Combined damage messages now work with Splitter: the damage from the hit
  and from the fireball is combined.  Halved armor message may still
  be suppressed, though.
* Primary stat hints now note if a corresponding pure black potion has been
  used.  Resistance hints now show base value and average damage reduction.
* The RDSM crafter now changes his greeting if you do business with him.
* Flying Fist has been changed to its MM8 version.
* Zero-power pure black potions now don't set the "potion was drunk" bit.
* v1.0 fix: Destroy Undead targeted some PC slots preferentially.
* v1.0 fix: new buff icons weren't displayed in the widescreen mode.
* v2.0 fix: couldn't autobrew gray potions.
* v1.0 fix: the new monsters spells could target the party through walls.
* Vanilla fix: "of David" didn't work on bows.
* v2.0 fix: expired temp enchants weren't removed before an attack.
* v2.0 fix: could not sell the new recipes.
* Vanilla fix: item-targetting spells rarely affected a wrong item.
* v2.0 fix: Day of Gods from pedestals wasn't nerfed.
* Vanilla fix: crappy items could be generated on high tlvls.
* Vanilla fix: altar of the Sun and Clanker's device resetted their visual
  appearance on map reload.
* Vanilla fix: could not swap equipped spear with some other items.
* v2.0 fix: Eofol well made money sounds even at 0 gold.  Also I tried
  to reduce visual glitches when using it.

-------------------------------------------------------------------------------

== Elemental Mod ver. 2.0 ==

While I originally intended to create a separate balance-concerned mod for
MM7, I ended up extending this mod with all of my ideas instead.  As such,
"Elemental Mod" is slowly becoming an artifact title.  Well, at least it's
catchy!  The final vision for this mod is to "polish" the game by improving
game mechanics, adding convenient new features, and hopefully improving, or at
least not breaking too much, balance.

This release mostly concerns itself with the magic system (broadly speaking).
There's also a bunch of rule changes and a surprising number of bug fixes.
Hopefully, the latter will be eventually assimilated by the MM7Patch.


=== Alchemy changes ===

The first main topic of change is potions.  In general, alchemy should be more
useful and versatile now, and having a Druid is rewarding.

Several new black potions have been added.  Six of them provide a temporary
immunity to one of six elements (fire, shock, cold, poison, mind, or magic).
Their duration is quite short, but complete elemental immunity is hard to
obtain otherwise, which gives an edge to Druids who alone can brew these
potions freely.  There's also a black potion that duplicates the Pain
Reflection spell.

Alchemy has been given an offensive option it lacked before by repurposing
weapon-enchancing elemental potions into short-range AOE thrown weapons.
(They still retain their old utility, as well.)  Thrown potions are affected
by gravity, so their range is limited, especially for characters with low
Might.  On impact, they explode, damaging monsters in a small radius.  Damage
is (power)d3 for Flaming and Freezing potions and (power)d2 for Shocking and
Noxious potions.

Another new quasi-potion is holy water.  It's outside the alchemy system, but
behaves like a potion otherwise.  Holy water can be bought at most temples and
acts similarly to the potions from the above paragraph, able to either
temporarily make one weapon Undead Slaying, or be thrown to damage a group of
undead monsters.  Unlike elemental potions, the thrown holy water is safe to
use at a point-blank range -- unless, of course, you have undead in the party.
Holy water is especially notable as one of the few ways to reliably damage
Ghosts and Wraiths, who are now immune to unenchanted weapons.

Swift Potions have also been given a new functionality: drinking them causes
the character to instantly recover (i.e. get an extra turn).  It's probably a
suboptimal use of a potion in most cases, but some spells (e.g. Resurrection)
have very long recovery which could make it worthwhile in a combat situation.

There's a number of tweaks as well.  Notably, black potions of Pure Attribute
(Might, Accuracy, etc.) now give a bonus equal to their power instead of a
fixed +50.  Since they're usually generated with 20-30 power, this adds a
strategic dilemma: do you drink one as soon as you find it, obtaining a
smaller bonus early, or wait until you find a Philosopher's Stone and an
Alchemy-boosting item, which together can improve the potion's power to 100+,
thus giving your character a bigger, but delayed, bonus?  You're still limited
to one of each potion per character, so you cannot choose both!

Potions of Bless, Heroism and Stoneskin have been made a lot less useless by
adding half of the potion's power to the resulting buff's power.  (Previously,
these potions always gave the minimal possible bonus of +5, which could be a
bug.)

Slaying Potions now have a permanent effect if posiible.  Honestly, I was
somewhat surprised to learn they didn't have it already.

Most potions (specifically, those for which power matters) now have variable
price dependent on power.  For typical randomly generated power values, the
resulting price should stay around the same.

The potion recipes sold at alchemy shops have been improved as well.
They now list the exact needed mixtures instead of cryptic guidelines, and
reading them automatically adds the recipe to your journal.  With the
proliferation of spoilers, trying to get the players to discover the recipes
for themselves is pointless anyway!

Last, but not least, I've added an ability to brew any potion in a single
click, provided you know the relevant recipes, have the reagents and enough
bottles, and posess the necessary Alchemy skill!  It's as simple as
Ctrl-clicking on an existing potion, or its recipe.  The game will then
attempt to brew another potion of the same type, first from other potions, or
otherwise from base reagents.  It works exactly like brewing it manually, and
you will be given a descriptive message if the process fails.  This
functionality is mostly intended to help streamline batch-brewing potions.
I'm quite proud of this one.


=== Item enchantments ===

The next major part of this release concerns item enchantments AKA bonuses,
such as "Vampiric" or "of the Gods".  Actually, I mostly concerned myself with
weapon bonuses specifically.  One of the mod's goals is to strengthen weapon
combat, as it's commonly considered inferior to magic, and improving weapon
enchantments helps towards that.

First off, I added a total of nine non-numeric enchantments.  In the below
list, "tlvl" stands for treasure level, which ranges from 1 to 6.

Spectral: any weapon, tlvl 3-5.  Improves the weapon's resistance penetration
by changing the element of the attack from physical to magical when it's
beneficial.  This allows damaging monsters that are immune to normal weapons,
such as Oozes; the mod also gives this immunity to Ghosts and Wraiths, and
this enchantment is one of the best ways to deal with them.  It's still
helpful against other monsters, as many enemies are vulnerable to Magic.
When fighting with two weapons, only one of which is Spectral, the enchantment
only affects 50% of the combined damage.

Cursed: any weapon, tlvl 4-5.  When hitting a monster with this weapon, it
will apply the Cursed debuff with a 20% chance.  Monsters that fail a Magic
resistance roll will, for the next 20 minutes, have halved chance to-hit, 50%
chance of a spell failure, and about 25% lowered elemental resistances.
This is mostly identical to MM6 Mass Curse spell (except for the last part),
but in this mod, weapons are the only source of the debuff.  Wielding two
Cursed weapons provides no additional benefit.

Of The Wraith: any weapon, tlvl 5-6, uncommon.  Combines effects of Spectral
and Cursed.

Soul Stealing: melee weapon, tlvl 5-6, rare.  A counterpart to Vampiric
weapons, it will restore some spell points when the character kills an enemy
in melee.  Wielding two such weapons doubles the effect.

Of Backstabbing: melee weapon, tlvl 3-5.  Another "double damage" enchantment,
this one works on any monster, but only if they're turned away from you.
Usually enemies will look at you in combat; reliable ways to get them to turn
around are Mass Fear (or Turn Undead), or Berserk to provoke infighting.

Lightweight: body armor and shields, tlvl 3-5.  Reduces the armor's recovery
penalty by 10, assuming it's not already nullified by skill.  This means that
Lightweight leather and shields never slow the character down at all, and
chain and plate with this enchantment will have a penalty of 0 and 5
respectively when combined with Expertise in relevant skill.

Of Leaping: boots, tlvl 3-4.  Each pair of boots of Leaping increases jump
power by 20%, and multiple pairs stack linearly.  They do not affect the Jump
spell.

Of Permanence: shields, helmets and jewelry, tlvl 4-5, uncommon.  Make the
wearer immune to the Dispel Magic monster spell.  This spell is nerfed in
several ways in this mod, and this is one of them.

Sturdy: anything but belts or jewelry, tlvl 3-4, rare.  The enchanted item can
never break.  Essentially duplicates the effect of Harden Item potion.

Next, I've completely rehauled the temporary enchantment system as provided by
Fire Aura and such.  Now pretty much any weapon can have a temporary
enchantment, including already enchanted weapons and artifacts.  This means
that a weapon can have two bonuses at the same time (permanent and temporary),
and it also means that Fire Aura no longer becomes useless when you outfit the
party with good enchanted weapons.  The only limitation is that the temporary
enchantment musn't be similar in nature to already present bonuses.  For
example, Ghoulsbane cannot be enchanted with Fire Aura or holy water, and
weapons of Darkness are unaffected by Vampiric Weapon spell and Swift Potions.
Also, due to their unique nature, bows of Carnage can only be made Swift.

Among other changes, Undead Slaying weapons now act similarly to the new
Spectral weapons, dealing Holy damage when attacking Undead.  As noted above,
this makes holy water very helpful against Ghosts and Wraiths in partucular.
Most Undead are very vulnerable to Holy, making this enchantment superior to
Spectral within its scope of effect, especially considering the double damage.

Also, Assassins' weapons now have backstab instead of the modest Disarm bonus.


=== Spell tweaks ===

Probably the core content of this release is the multitude of player spell
tweaks.  Some spells are improved, some are nerfed, and one spell is entirely
replaced.  One goal I strived towards was to make GM changes of spell effects
more significant, as many spells had underwhelming changes at grandmastery in
vanilla.  This was partly because the magic system was blindly copied from
MM6, where any spell could be cast at any level of mastery, and even high-cost
spells were substantially better at Master (which was harder to attain than
MM7 Master).  But in MM7 spell availability is limited by skill, and as the
result the weaker effects of higher-level spells were simply discarded, often
leaving them overpowered from the get-go, and with no room for improvement at
GM.  As such, many spells are now rebalanced by shifting them one level of
mastery upwards, with Expert having the effect of MM6 Normal skill, Master
casting as Expert, and GM working as the previous Master.  Some other spells
were instead just made stronger at GM.  I also improved most debuffs.

Condition cure spells are the prime example of the "shifting" approach, as the
vanilla GM bonus of unlimited delay was just too useless -- as rightly noted,
at Master the allowed delay is already 7 days, and who would wait over a week
before casting a cure?  So, all Expert- and Master-level cure spells are now
shifted to 3 min/level at E, 1 hour/level at M, and 1 day/level at GM.  Cure
Weakness and Remove Fear are improved instead, acting on the entire party on
GM.  Awaken already had, so I just removed the unlimited delay to keep it
uniform, but left the shortened recovery in place.

Resurrection merits special mention, as I felt having a slightly improved
Raise Dead as Spirit's ultimate spell was a bit underwhelming.  Now it's a
"combat revival" sort of spell, as not only it resurrects, it also doesn't
inflict weakness and restores some HP, leaving the character ready for combat.
It can still cure eradication like in vanilla, and it remains the only cure
spell without a time limit.  The only practical downside is the 10-minute
recovery this spell imposes; I haven't changed that.  (The vanilla description
claims that higher skill lowers recovery, but this was never actually
implemented, and I removed that note.)

As mentioned above, I reworked the debuff spells.  While generally magic is
overpowered, this is not the case for debuffs, which are frustratingly
unreliable, especially in the late game.  Thus, I made spell skill improve
their success chance.  The improvement isn't dramatic -- with high skill
you'll get maybe 150% of the base chance against tougher targets -- but it's
still noticeable.  A price to pay for this is that the debuff duration is now
mostly fixed -- it increases with mastery, but the numeric skill value doesn't
affect it anymore.  Generally it's still enough to last through the combat,
though.  Turn Undead was also affected by the latter change for uniformity,
but since it cannot be resisted at all, higher skill reduces recovery instead.

I also added one completely new spell: Spectral Weapon.  It replaces Fate,
and, true to its name, can enchant one weapon to become Spectral.  It's a Self
counterpart to Fire Aura and Vampiric Weapon, and works much the same.  The
spell can be useful both in early game, when you need to fight Ghosts and
Oozes, and later, when a lot of monsters are less resistant to Magic than to
physical attacks.  Fate still can be found on scrolls, but you cannot learn it.
The icon for the new spell may be replaced with a better one in the future.

Next, I backported some spell changes from MM8.  Ice Blast now deals 12 +
(level)d6 damage (up from d3), Spirit Lash now damages all nearby monsters,
and Regeneration is massively nerfed from 5/10/15 HP per 5 minutes to 2/3/4.

Returning to shifted spells, Flight now only lasts 10 minutes/level at M, and
still drains magic at GM.  The three Light buff spells have all been nerfed as
well: Day of the Gods and Day of Protection now have lower mastery multipliers
(up to x4 at GM), and Hour of Power has more consistent duration -- the
vanilla MM7 used a very confusing formula that was probably wrong at several
places; now the duration exactly matches the duration of its constituent
spells cast at the equivalent skill level.  Strictly speaking, the two latter
buffs are now no better than casting their spells separately, assuming equal
skill; however, improving their effect requires only putting points in the
school of Light, as opposed to the seven schools that the separate spells are
spread amongst, so casting them can still be advantageous.

Other GM-level changes: GM Feather Fall grants the same bonus as boots of
Leaping, GM Torch Light gives even brighter light than M, and GM Wizard Eye
lasts permanently and can never be dispelled, not even by rest or travel.
If you do want to dispel it for some reason, just cast it again.  By the way,
Immolation now has this feature as well, as leaving it on can be dertimental
around friendly monsters.

Enchant Item is both buffed and nerfed.  On one hand, Master EI now normally
enchants at tlvl3 (down from 4), and GM, at tlvl4 (down from 5).  To enchant
at the vanilla power, you need to cast the spell at noon (from 11:00 to 12:59).
(The noon thing was planned but never implemented in MM6.)  On the other hand,
special (non-numeric) enchantments now scale with spell's tlvl instead of being
stuck at tlvl3, which was likely a bug.  Now you can even get "of the Dragon",
"of Darkness" and other top-tier enchantments, as long as you cast at GM and
at noon.  I also eliminated the exploit that allowed to enchant items of Arms
(or Dodging, or the Fist) higher than normally possible.

Preservation now halves the chance of monsters causing instant death or
eradication.  According to the manual, it was supposed to completely protect
from these conditions, but it was evidently deemed too powerful.  True, but I
think partial resistance is okay.  Makes the spell more useful, too.

Mass Distortion now cannot be entirely resisted, unless the monster is immune
to Magic.  (In vanilla it had a debuff-like resist-to-nullify check AND an
ordinary damage resistance check, and I consider this a bug.)

Sunray has been buffed by allowing it to be cast in some aboveground indoors
locations.  Generaly, if it's not a cave, dungeon, or anywhere in the Pit, you
should be able to cast Sunray while in it (during the daytime, of course).  As
it was in vanilla, the spell just couldn't compete with Meteor Shower and
similar outdoor nukes, so now it hopefully will be more useful.

Finally, Berserk spell gained a new functionality: it can be cast on a PC to
trigger the Insane condition (unless the PC is immune), with all its benefits
and downsides.


=== Item changes ===

The next batch of changes concerns artifacts and various other items.
Firstly, I added new properties to some artifacts both to make the artifacts
more competitive, and to make said properties more common.  Here's the list:

Splitter and Forge Gauntlets grant immunity to Fire.
Twilight grants immunity to Poison (as in the element).
Phynaxian Crown grants immunity to Cold (and some Poison resistance).
Mind's Eye grants immunity to Mind.
Elven Chainmail is now lightweight and adds +5 to Bow skill.
Old Nick has been significantly buffed number-wise.  It also now backstabs
instead of slaying elves.
Corsair also backstabs now.
Kelebrim grants immunity to Dispel Magic.
Hermes' Sandals increase jump height.

Elfbane has been completely replaced with Sacrificial Dagger, a new
Goblin-only artifact that increases maximum SP and has Soul Stealing property.

Morcarack (the Emerald Island dragon) now drops his scales instead of a random
tlvl 6 item.  This means he can no longer be multilooted until the party has a
full set of endgame gear; instead, the scales can later be made into one of
two unique items, plate armor or a shield.  Both grant Fire immunity (and
Morcarack is now also immune to fire, as he should be), and the plate is also
lightweight.  (Please note that the graphics for the new items are VERY
temporary; I'll replace them eventually as soon as I can involve some artist.)

Genie Lamps now give a quintuple bonus (from +5 to +20), and they can only
increase primary stats and resistances, much like in MM6 (except I put
Intellect and Personality on the same month to fit).

Basic-level spellbooks can now be found randomly, FWIW.

Blasters and wands are now equipped in the missile weapon slot (like bows).
Accordingly, they by default will not fire in melee range; if you do want to,
use the quick spell button (or shift-click on a monster) with no quick spell
set.  Also, I replaced wand spells Sparks and Spirit Lash with Slow and
Psychic Shock, as the former two aren't really ranged spells.

On that topic, somewhere in the process of reworking wands I introduced a bug
that often prevents them from making a sound when fired.  I wasn't able to fix
it, unfortunately.  It does not affect gameplay, though.

More wand changes: they no longer disappear when they're out of charges.  You
can see the maximum possible amount of charges the wand can have in its
description.  Wands often spawn not fully charged.  Equipped empty wands are
colored red, as if they were broken.  Wand price also depends on both its
current and maximum charges.  Finally, magic shops can now recharge wands!
Fancier shops can restore more charges, up to 80% of maximum.

The next few tweaks are intended to make melee slightly stronger.  Firstly,
the limit on attack speed has been raised -- it's now 10 attacks per round for
blasters and 5 for any other weapon.  This limit is enforced both in
turn-based and realtime mode.  Next, when using two weapons, the skill of the
weapon in the right hand affects the damage now.  (It used to be the left
hand, which was unfortunate as neither sword nor dagger skill give damage
bonuses to most classes.)  Lastly, most two-handed swords and axes gained a
bonus to damage, which will hopefully make them more competitive.

I also reworked the damage dice of many artifacts to bring them in line with
their base item types.  Charele was a special case, as its improbable 3d9+18
damage was the entire point of the artifact.  Now it has halberd dice and a
more realistic to-hit bonus, but it gets the two-handed damage bonus as an
unique artifact property.  Oh, and Mash is a club instead of a mace now.


=== Other changes ===

Probably the largest diversion in this release was when I decided to rework
the reputation system.  Now, instead of being stored per-map, your reputation
is shared between all locations in the same region.  The main benefit of the
new system is that the reputation given in castles and other indoor locations
is now meaningful.  The reputation penalties given in the dungeons (for theft,
murder etc.) now matter as well.  Additionally, having all of a dozen
different reputation counters made it easier to implement a gamescript command
to change reputation in another region; many quests have been changed to make
use of this.  The only places where reputation doesn't matter are Eeofol and
Shoals, as those regions are unpopulated; it always stays at zero there.

Other reputation changes: almost all quests change it now.  Theft doesn't,
unless you get caught.  Armageddon has a heavy reputation penalty.  Town hall
bounties improve reputation slightly.  Finally, "disreputable" NPCs such as
gypsies and pirates will now only change reputation in their home region, but
this change is permanent.  Rationale: with reputation affecting prices, the
Duper NPC, unlike in MM6, becomes almost useless.  Now, at least, the Duper's
Merchant bonus can be used at full effect if you travel to another region
after hiring them.

Temple donation rewards have been increased in power proportionally to the
donation cost.  They still depend on the day of the week, as well.

Barrels and cauldrons found in some maps give level-dependent bonuses now, up
to +15 at level 99.  Drink now or save for later, your choice!  On that note,
I also changed the barrels in the Walls of Mist so that they refill only once
per year instead of on each visit.  This was exploitable even in vanilla, but
with the above improvement it's just too much.

In vanilla, HP and SP could rarely rise above normal maximum.  It would stay
that way (unless lost or spend) until the first healing effect (including
regeneration), which would reset it to the limit.  That has been redone.  Now
there are more ways to legitimately "overheal" (Shared Life, Souldrinker,
Vampiric and Soul Stealing weapons, and occasionally potions), and healing
won't remove the extra points, but they will quickly dissipate on their own,
reducing by 25% every five minutes.

Monster Dispel Magic has been made less annoying.  In addition to items of
Permanence, it's now possible for party-wide enchantments to resist being
dispelled (a random PC's resistance is checked for each buff).  The base odds
of resisting have been increased fourfold as well, as it's one of the cases
where the game checks primary stats, and such checks were unreasonably
difficult in vanilla.

Cursed PCs have greatly reduced Luck for symmetry with Cursed monsters.

Wishing wells in Bracada and Eeofol are now limited-use (5/day for the former
and 12/month for the latter).  I also slightly changed the possible effects.

There are now exactly three challenges of each type instead of seven +5 ones
and scarcely any others.  Hopefully this will reduce the number of duplicates.

Right-clicking on character stats now displays the base stat value (without
items) and stat rating (which is used for most stat-related bonuses).

Dwarven guards have been put on a diet & exercise regimen.  Now they're much
less likely to get stuck in doorways and block passages with their girth.

Some skill descriptions have been rewritten; notably, spell schools now list
learnable spells.

Rest encounter probabilities are now more varied (used to be 10% almost
everywhere), and you won't be attacked by normally peaceful monsters.  Also,
resting is now safe if all monsters on the map are peaceful -- used to be that
your golem triggered goblin attacks in your castle, which was clearly a bug.

I tweaked shops a little: Tatalian island stores are now open at night, and
Castle Harmondale shops stay open till 23:00.  Also, castle potion shop is
replaced by a magic shop (for convenient selling), and former Nighon magic shop
now sells black potions (more reason to get there early).

Most AOE and shrapnel-like spells now should display a single combined message
for all damaged monsters -- at least in turn-based mode.  It can break if
another spell is cast before the previous one hits.  Similarly, stun,
paralysis, and halved armor messages are combined with the damage messages.
The only weapon that will still produce two messages is Splitter -- the
fireball that it spawns usually overwrites the regular damage message.  I
might fix that later.

Convenience feature: when one of the equipped items is broken, the character's
AC number becomes colored red.  Empty wands do not trigger this, though.

Steadwick ore smiths can now make two-handed weapons, bows, and shields.

Leaving the Grand Temple of the Moon now only deletes the Telekinesis scrolls
that were obtained from the unlimited-use secret panel.

Bookshelves are reworked slightly -- almost any spellbook can be looted, and I
removed the possibility of finding nothing -- if there's anything left, you
will always find it.  On that topic, high Perception affects bookshelves loot.

Many sarcophages in the Barrows have decent items inside, but graverobbing has
consequences!  Again, high Perception helps.

Finally, banks now add a 1% interest each week, like in older games.


=== Bug fixes ===

The more I mess around with MM7's code, the more bugs I discover.  So why not
to fix them!  Eventually most of these should end up in the MM7Patch.

Fix: Gibbet wasn't dealing extra damage to dragons or demons.
Fix: temporary enchantment duration strings weren't localized.
Fix: some quests were giving/reducing reputation four times instead of one.
Fix: leave map event didn't trigger when using stables or a boat.
Fix: faerie pipes award wasn't given to all characters.
Fix: Archibald was supposed to only give you a blaster if you were on a quest
to slay Xenofex.
Fix: white barrels never generated randomly.
Fix: pickpocketing an item produced a wrong message.
Fix: failing to cure insanity still caused weakness.
Fix: failing to raise dead still caused weakness and set HP to 1.
Fix: GM Immutability could protect from execution in castles.
Fix: Archers couldn't use their fire arrows.
Fix: Sacrifice didn't cure conditions or aging.
Fix: Master Healer NPC removed armor skills.
Fix: Lloyd's Beacon was usable in Clanker's Lab before you disabled its
defences.
Fix: buff duration was displayed incorrectly in some circumstances.
Fix: Water Walking used power every 5 minutes instead of 20.
Fix: Control Undead had wrong description.
Fix: "of Feather Falling" enchantment never generated randomly.
Fix: zombification worked incorrectly in v1.0 of my patch.
Fix: some alchemical explosions could break hardened items.
Fix: item bonuses to GM Bow skill didn't improve damage.
Fix: "N/A" string that displays when no bow is equipped wasn't localized.
Fix: The Maze's magic resistance pool could be used repeatedly.
Fix: Seknit Undershadow's tea didn't stack with other Endurance bonuses.
Fix: stealing Mr. Malwick's wand gave it wrong max charges count.
Fix: falling from Celeste was supposed to choose one of 6 different loactions.
Fix: when visiting a region for a first time, weather wasn't initialised.
Fix: Bracada docks teleporter was slightly off-target.
Fix: resting in dark region taverns was often way too long.
Fix: clubs had no base recovery set (it's 100 now).
Fix: Hunter NPC and Hunter PC had the same string resource (which broke some
localizations).
Fix: Castle Harmondale bookshelf checked for School of Sorcery membership.
Fix: some objects in the Grand Temple of the Moon reset after save reload.
Fix: in a couple maps, scripted traps had prohibitive skill requirements.
Fix: drowning dealt fire damage (it's cold now).
Fix: travelling to a new region on foot duplicated ground items.
Fix: some parts of Walls of Mist's keyhole pillars weren't clickable.
Fix: a part of For Riverstride's exit door didn't work.
Fix: Welnin +2 accuracy well wasn't clickable.
Fix: dragons and titans dropped too little gold.
Fix: mace paralysis checked poison resistance (it's physical now).

-------------------------------------------------------------------------------

== Elemental Mod ver. 1.0 ==

=== Main change: revamped, MM6-like elemental system ===

All attacks (spell or otherwise) now belong to one of the following elements:
fire, shock (electricity), cold, poison, physical (e.g. weapon attacks),
mind, magic, holy (undead-targeting attacks), or energy (ignores resistances).

It differs from MM6 in that mind is separate from magic (I think the reason
there were so many magic-immune monsters in MM6 (undead, titans, elementals...)
is that NWC wanted to make them immune to mental attacks, and those were
magic-elemental), and there's a formal element for anti-undead spells.

Spell elements mostly follow MM6, but there are some differences. Here's
the complete list:

All Fire spells, as well as Sunray, attack with fire.
Sparks, Lightning Bolt and Starburst attack with electricity.
Ice Bolt, Ice Blast and Souldrinker* attack with cold.
Poison Spray, Acid Burst and Toxic Cloud attack with poison.
Impolsion, Flying Fist**, Shrapmetal, and most direct-damage Earth spells
are physical attacks.
All Mind spells attack with mind.
Mass Distortion, Spirit Lash, Harm, Prismatic Light, Armageddon
and most debuffs attack with (non-elemental) magic.
Turn Undead***, Destroy Undead and Control Undead attack with holy.
Light Bolt attacks with energy, meaning it can't be resisted.
Dragon Breath attacks with both fire and poison, much like MM8 Darkfire Bolt.
For resisting this spell, the lesser of the two resistances applies.

* I initially intended to make Souldrinker magic-elemental, but there's
already Prismatic Light, and plenty of other magic spells, while cold
was underrepresented.  Hopefully the "sepulchral cold" excuse makes sense.
** This is a change from MM6.  I'm not completely sure the fist is not
a metaphor, but if it's not, the physical damage makes more sense.
*** Turn Undead cannot actually be resisted, but it won't affect
creatures immune to holy (i.e. non-undead).

Poisoned weapons once again attack with poison instead of body.
Blasters attack with energy.

Monster attacks and resistances have been reworked.  Generally,
non-spellcasting monsters are vulnerable to magic; natural, non-poisonous
monsters are vulnerable to poison, fire-based monsters are vulnerable to cold,
and cold-based monsters are vulnerable to fire.  In other cases, poison
resistance was copied from body, magic is approximately light and dark
averaged, and for undead, spirit was converted to holy.  (Non-undead monsters
are immune to holy by definition.)  Monsters that attacked with light
and "earth" now attack with energy; dark attacks are converted to magic.
Water attacks are now either cold or poison.

The six elemental resistance spells have been renamed appropriately,
so, Earth now has Magic Resistance spell, Body has Poison Resistance, etc.
I've managed to draw new buff icons (on the buff panel in the middle-right),
but the spellbook images and spell-casting animation are a bit beyond my skill.
Thankfully, they are mostly vague enough to pass as-is.
I've also renamed Protection from Magic to Immutability to avoid confusion.

There's a couple of other minor changes, such as the new poison resistance
protecting from the poisoned condition, and Phynaxian Crown boosting both
cold and poison resistance.

One notable tweak: base stats (Might, Intellect, etc.) are now more effective
at preventing harmful conditions.  To elaborate: some conditions can be
prevented by having high base stats, and others, by high elemental resistances.
But in the original game even with 500+ in all stats the PC only had
a 2-in-3 chance to resist stat-based conditions, while for resistance-based
ones one only needed 50-60 or so to achieve the same level of protection.
Now, base stats are about 4 times more effective for this purpose.


=== Undead-related changes ===

I've gone on a surprisingly lengthy detour with various undead-related changes
while developing this mod.  In addition to the new holy element, these
mostly concern undead PCs.

The original lich immunities were weird!  The character got 200 body and
mind resistance on lichification, and then any resistance that was 200 or above
was treated as an immunity.  That meant a lich could become immune to
other elements by stacking enough buffs; conversely, if body or mind resistance
was lowered (e.g. by equipping Hareck's Leather), the existing immunity
was lost.

In this mod, liches are immune to poison and mind, always, and
their resistances aren't even checked for this purpose.  In addition,
zombified players are given the same immunities.  The price for this is the
vulnerability to holy attacks.  Some monsters (priests, wizards and angels)
can now cast Turn Undead or Destroy Undead if they detect an undead in your
party.  Turn Undead scares all undead PC, unconditionally; Destroy Undead
deals holy damage to one PC.  Liches have some holy resistance (20 plus any
luck bonus); other zombified PCs are completely vulnerable.

Reanimation spell is also changed: the zombified creature now has the same
changes as the zombified PC (poison and mind immunity, but vulnerable to holy).
Monsters that can cast Destroy Undead may target these monsters as well.

Also, dark temples now don't turn stoned players and liches to zombies.


=== Bug fixes ===

While browsing the disassembly, I also found and fixed a few bugs in the
original game.  I've forwarded those to GrayFace, so hopefully the fixes
will be included in the next version of MM7Patch.  But for now, they'll be
in this mod, because why not.

Fix: "of Assasins" and "of Barbarians" weren't dealing elemental damage.
Fix: Kelebrim wasn't substracting 30 from earth (now poison) resistance.
Fix: Armageddon could not be resisted (now magic resistance applies).
Fix: control undead on the GM level did not work.
Fix: charm on the M level did not work; also, on the GM level it acted
like on E, and on E it acted like on M.
Fix: when monster cast spells on another monster, wrong resistance was checked.
Fix: some pre-placed monsters had spells they couldn't cast.
